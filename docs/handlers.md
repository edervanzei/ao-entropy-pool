# Handlers
Specification of all handlers for this process, their functions, conditions, patterns, etc.

## Cron
Objective(s): Handle all messages that were not processed by the [Add-Entropy](#add-entropy) handler.

Condition(s): Activated only by **Cron**.

The ```Users``` table is cleared, and all untreated messages (stored in the ```Messages``` table) are added to the ```Pool```, but in **random** order. The ```Messages``` table is also cleared.

## Add-Entropy
Objective(s): Add entropy to the pool and prevent malicious users and spam.

Condition(s): Every time a message is sent to the **process** (except [Cron](#cron)), this handler is triggered. It does not prevent the execution of subsequent handlers.

If this is the first time the handler is called by ```msg.From``` since the last **Cron** execution, a record is created in the ```Users``` table, where the **key** is ```msg.From``` and the **value** represents the number of messages processed by the handler. This value is incremented by ```1``` for each call.

The following fields are collected from the message:
- **Id**
- **Timestamp**
- **Anchor**
- **Block-Height**

These fields are converted into a ```ByteList``` using the functions ```ConvertRadix64StrToByteList``` for **Id** and ```ConvertBintToByteList``` for the others.

If ```msg.From``` has reached the call limit since the last **Cron** execution (indicated by ```MAX_MESSAGES```), the collected data will be stored in the ```Messages``` table. Otherwise, all data will be added to the ```Pool```.

## Get-Random
Objective(s): Generate the specified amount of random bytes using the function chosen by the caller.

Condition(s):
- **Pattern**: ```{ "Action"="Get-Random" }```
- **Bytes**: Representation of an integer as a string (less than or equal to ```MAX_BYTES_REQUEST```)
- **Generator**: Optional string, see [available generators](#get-generators)
- **Output-Format**: Optional string, see [available formats](#get-output-formats)

The ```Pool``` is used to generate the requested amount of bytes in the message with the specified generator (or, by default, ```sha2_256```).

A message will be sent to ```msg.From``` in the specified format (or, by default, ```hex```) as indicated by ```Output-Format```, containing the generated bytes.

## Get-Generators
Objetive(s): Provide the list of available generators to use in the generation of random numbers (used in [Get-Random](#get-random)).

Condition(s):
- **Pattern**: ```{ "Action"="Get-Generators" }```

A message will be sent to ```msg.From``` with all available generators.

## Get-Output-Formats
Objetive(s): Provide the list of available output formats to use in the generation of random numbers (used in [Get-Random](#get-random)).

Condition(s):
- **Pattern**: ```{ "Action"="Get-Output-Formats" }```

A message will be sent to ```msg.From``` with all available output formats.